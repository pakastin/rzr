!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.rzr=e.rzr||{})}(this,function(e){"use strict";function t(e){for(var n=e.firstChild;n;){var r=n.el,a=r&&r.component;a&&a.unmount(),t(n),n=next}}var n=function(e,t){for(var n=[],s=arguments.length-2;s-->0;)n[s]=arguments[s+2];for(var o in t)if("style"===o){var i=t.style;"string"==typeof i&&(t.style=r(i))}else if("class"===o){var i=t["class"];"string"==typeof i&&(t["class"]=a(i))}return{tagName:e,attrs:t||{},children:n}},r=function(e){for(var t=e.split(";"),n={},r=0;r<t.length;r++){var a=t[r].split(":");n[a[0]]=a[1]}return n},a=function(e){for(var t=e.split(" "),n={},r=0;r<t.length;r++)n[t[r]]=!0;return n},s=function(e,n,r){var a=r;r=r||0;var f=e.childNodes[r],c=f&&f.el;if("function"==typeof n.tagName)if(c&&c.componentClass&&n.tagName===c.componentClass){var p=n.attrs,d=n.children,u=c.component,v=c.componentClass;n=u.render.apply(u,[p].concat(d)),n.component=u,n.componentClass=v,s(e,n,r++)}else{var m=n.tagName,y=new m,p=n.attrs,d=n.children;n=y.render.apply(y,[p].concat(d)),n.component=y,n.componentClass=m,y.init&&y.init.apply(y,[p].concat(d)),s(e,n,r++)}else if(n instanceof Array)for(var g=0;g<n.length;g++)s(e,n[g],r++);else if("string"==typeof n||"number"==typeof n)e.textContent=n;else{var h="svg"===n.tagName||e instanceof SVGElement;if(c&&n.tagName===c.tagName&&n.componentClass===c.componentClass)h?diffSVG(e,f,n):l(e,f,n);else{var C=h?i(n):o(n),n=C.el,y=n&&n.component;f?e.insertBefore(C,f):e.appendChild(C),y&&y.mount&&y.mount()}}if(null==a)for(var N=e.childNodes[r];N;)y.unmount&&y.unmount(),t(N),e.removeChild(N),N=next},o=function(e){var t=document.createElement(e.tagName),n=e.attrs;t.el=e;for(var r in n){var a=n[r];if("object"==typeof a)if("style"===r)for(var r in a)t.style[r]=a[r];else if("class"===r)for(var r in a)t.classList.add(r);else t[r]=a;else"style"===r||null==a&&"function"!=typeof a?t.setAttribute(r,a):t[r]=a}for(var o=e.children,i=0;i<o.length;i++){var l=o[i];l instanceof Node?t.appendChild(l):"string"==typeof l||"number"==typeof l?t.appendChild(document.createTextNode(l)):s(t,l,i)}return t},i=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg",e.tagName);t.el=e;var n=e.attrs;for(var r in n){var a=n[r];if("object"==typeof a)if("style"===r)for(var r in a)t.style[r]=a[r];else if("class"===r)for(var r in a)t.classList.add(r);else t[r]=a;else"function"==typeof a?t[r]=a:t.setAttribute(r,a)}for(var o=e.children,i=0;i<o.length;i++){var l=o[i];l instanceof Node?t.appendChild(l):"string"==typeof l?t.appendChild(document.createTextNode(l)):s(t,l,i)}return t},l=function(e,t,n){var r=t&&t.el,a=n.attrs,o=r.attrs,i=n.children;for(var l in a){var f=a[l],c=o[l];if(f!==c)if("object"==typeof f)if("style"===p){for(var p in f)t.style[p]=f[p];for(var p in c)null==f[p]&&(t.style[p]="")}else if("class"===p){for(var p in f)1==f&&t.classList.add(p);for(var p in c)null==f[p]&&t.classList.remove(p)}else t[p]=f;else"style"===p||null==f&&"function"!=typeof f?t.setAttribute(p,f):t[p]=f}s(t,i)},f=function(e,t,n){var r=t&&t.el,a=n.attrs,o=r.attrs,i=n.children;for(var l in a){var f=a[l],c=o[l];if(f!==c)if("object"==typeof f)if("style"===p){for(var p in f)t.style[p]=f[p];for(var p in c)null==f[p]&&(t.style[p]="")}else if("class"===p){for(var p in f)1==f&&t.classList.add(p);for(var p in c)null==f[p]&&t.classList.remove(p)}else t[p]=f;else"function"==typeof f?t[p]=f:t.setAttribute(p,f)}s(t,i)};e.el=n,e.parseStyleString=r,e.parseClassString=a,e.render=s,e.parse=o,e.parseSVG=i,e.diff=l,e.diffSVG=f,Object.defineProperty(e,"__esModule",{value:!0})});