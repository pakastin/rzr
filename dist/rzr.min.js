!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.rzr=e.rzr||{})}(this,function(e){"use strict";function t(e){for(var n=e.firstChild;n;){var r=n.nextSibling,o=n.el,a=o&&o.component;a&&a.unmount(),t(n),n=r}}var n=function(e,t){for(var n=[],a=arguments.length-2;a-->0;)n[a]=arguments[a+2];for(var s in t)if("style"===s){var i=t.style;"string"==typeof i&&(t.style=r(i))}else if("class"===s){var i=t["class"];"string"==typeof i&&(t["class"]=o(i))}return{tagName:e,attrs:t||{},children:n}},r=function(e){for(var t=e.split(";"),n={},r=0;r<t.length;r++){var o=t[r].split(":");n[o[0]]=o[1]}return n},o=function(e){for(var t=e.split(" "),n={},r=0;r<t.length;r++)n[t[r]]=!0;return n},a=function(e,n,r){var o=r,r=r||0,f=e.childNodes[r],c=f&&f.el;if("function"==typeof n.tagName){if(c&&c.componentClass&&n.tagName===c.componentClass){var d=n.attrs,p=n.children,u=c.component,v=c.componentClass;return u.update.apply(u,[d].concat(p)),n=u.render.apply(u,[d].concat(p)),n.component=u,n.componentClass=v,a(e,n,r++)}var m=n.tagName,y=new m,d=n.attrs,p=n.children;return n=y.render.apply(y,[d].concat(p)),n.component=y,n.componentClass=m,y.isMounted=!1,a(e,n,r++)}if(n instanceof Array)for(var g=0;g<n.length;g++)a(e,n[g],r++);else{if(n instanceof Node)f?e.insertBefore(C,f):e.appendChild(C),r++;else if("string"==typeof n||"number"==typeof n)e.textContent=n,r++;else{var h="svg"===n.tagName||e instanceof SVGElement;if(c&&n.tagName===c.tagName&&n.componentClass===c.componentClass)h?diffSVG(e,f,n):l(e,f,n);else{var C=h?i(n):s(n),n=C.el,y=n&&n.component;f?e.insertBefore(C,f):e.appendChild(C),y&&!y.isMounted&&(y.dom=C,y.init&&y.init.apply(y,[d].concat(p)),y.isMounted=!0),y&&y.mount&&y.mount()}r++}if(null==o)for(var N=e.childNodes[r];N;){var b=N.nextSibling;y&&y.unmount&&y.unmount(),t(N),e.removeChild(N),N=b}}},s=function(e){var t=document.createElement(e.tagName),n=e.attrs;t.el=e,e.dom=t;for(var r in n){var o=n[r];if("object"==typeof o)if("style"===r)for(var r in o)t.style[r]=o[r];else if("class"===r)for(var r in o)t.classList.add(r);else t[r]=o;else"style"===r||null==o&&"function"!=typeof o?t.setAttribute(r,o):t[r]=o}for(var s=e.children,i=0;i<s.length;i++){var l=s[i];l instanceof Node?t.appendChild(l):"string"==typeof l||"number"==typeof l?t.appendChild(document.createTextNode(l)):a(t,l,i)}return t},i=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg",e.tagName);t.el=e,e.dom=t;var n=e.attrs;for(var r in n){var o=n[r];if("object"==typeof o)if("style"===r)for(var r in o)t.style[r]=o[r];else if("class"===r)for(var r in o)t.classList.add(r);else t[r]=o;else"function"==typeof o?t[r]=o:t.setAttribute(r,o)}for(var s=e.children,i=0;i<s.length;i++){var l=s[i];l instanceof Node?t.appendChild(l):"string"==typeof l?t.appendChild(document.createTextNode(l)):a(t,l,i)}return t},l=function(e,t,n){var r=t&&t.el,o=n.attrs,s=r.attrs,i=n.children;for(var l in o){var f=o[l],c=s[l];if(f!==c)if("object"==typeof f)if("style"===d){for(var d in f)t.style[d]=f[d];for(var d in c)null==f[d]&&(t.style[d]="")}else if("class"===d){for(var d in f)1==f&&t.classList.add(d);for(var d in c)null==f[d]&&t.classList.remove(d)}else t[d]=f;else"style"===d||null==f&&"function"!=typeof f?t.setAttribute(d,f):t[d]=f}a(t,i)},f=function(e,t,n){var r=t&&t.el,o=n.attrs,s=r.attrs,i=n.children;for(var l in o){var f=o[l],c=s[l];if(f!==c)if("object"==typeof f)if("style"===d){for(var d in f)t.style[d]=f[d];for(var d in c)null==f[d]&&(t.style[d]="")}else if("class"===d){for(var d in f)1==f&&t.classList.add(d);for(var d in c)null==f[d]&&t.classList.remove(d)}else t[d]=f;else"function"==typeof f?t[d]=f:t.setAttribute(d,f)}a(t,i)};e.el=n,e.parseStyleString=r,e.parseClassString=o,e.render=a,e.parse=s,e.parseSVG=i,e.diff=l,e.diffSVG=f,Object.defineProperty(e,"__esModule",{value:!0})});