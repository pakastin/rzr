!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.rzr=e.rzr||{})}(this,function(e){"use strict";function t(e){for(var n=e.firstChild;n;){var r=n.el,a=r&&r.component;a&&a.unmount(),t(n),n=next}}var n=function(e,t){for(var n=[],o=arguments.length-2;o-->0;)n[o]=arguments[o+2];for(var s in t)if("style"===s){var l=t.style;"string"==typeof l&&(t.style=r(l))}else if("class"===s){var l=t["class"];"string"==typeof l&&(t["class"]=a(l))}return{tagName:e,attrs:t||{},children:n}},r=function(e){for(var t=e.split(";"),n={},r=0;r<t.length;r++){var a=t[r].split(":");n[a[0]]=a[1]}return n},a=function(e){for(var t=e.split(" "),n={},r=0;r<t.length;r++)n[t[r]]=!0;return n},o=function(e,n,r){var a=r;r=r||0;var f=e.childNodes[r],c=f&&f.el;if("function"==typeof n.tagName)if(c&&c.componentClass&&n.tagName===c.componentClass){var p=n.attrs,u=n.children,d=c.component,v=c.componentClass;n=d.render.apply(d,[p].concat(u)),n.component=d,n.componentClass=v,o(e,n,r++)}else{var m=n.tagName,y=new m,p=n.attrs,u=n.children;n=y.render.apply(y,[p].concat(u)),n.component=y,n.componentClass=m,y.init&&y.init.apply(y,[p].concat(u)),o(e,n,r++)}else if(n instanceof Array)for(var g=0;g<n.length;g++)o(e,n[g],r++);else if("string"==typeof n||"number"==typeof n)e.textContent=n;else{var h="svg"===n.tagName||e instanceof SVGElement;if(c&&n.tagName===c.tagName&&n.componentClass===c.componentClass)h?diffSVG(e,f,n):i(e,f,n);else{var C=h?l(n):s(n),n=C.el,y=n&&n.component;f?e.insertBefore(C,f):e.appendChild(C),y&&y.mount&&y.mount()}}if(null==a)for(var N=e.childNodes[r];N;)y.unmount&&y.unmount(),t(N),e.removeChild(N),N=next},s=function(e){var t=document.createElement(e.tagName),n=e.attrs;t.el=e;for(var r in n){var a=n[r];if("object"==typeof a)if("style"===r)for(var r in a)t.style[r]=a[r];else if("class"===r)for(var r in a)t.classList.add(r);else t[r]=a;else"style"===r||null==a&&"function"!=typeof a?t.setAttribute(r,a):t[r]=a}for(var s=e.children,l=0;l<s.length;l++){var i=s[l];i instanceof Node?t.appendChild(i):"string"==typeof i||"number"==typeof i?t.appendChild(document.createTextNode(i)):o(t,i,l)}return t},l=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg",e.tagName);t.el=e;var n=e.attrs;for(var r in n){var a=n[r];"function"==typeof a?t[r]=a:t.setAttribute(r,a)}for(var s=e.children,l=0;l<s.length;l++){var i=s[l];i instanceof Node?t.appendChild(i):"string"==typeof i?t.appendChild(document.createTextNode(i)):o(t,i,l)}return t},i=function(e,t,n){var r=t&&t.el,a=n.attrs,s=r.attrs,l=n.children;for(var i in a){var f=a[i],c=s[i];if(f!==c)if("object"==typeof f)if("style"===p){for(var p in f)t.style[p]=f[p];for(var p in c)null==f[p]&&(t.style[p]="")}else if("class"===p){for(var p in f)1==f&&t.classList.add(p);for(var p in c)null==f[p]&&t.classList.remove(p)}else t[p]=f;else"style"===p||null==f&&"function"!=typeof f?t.setAttribute(p,f):t[p]=f}o(t,l)},f=function(e,t,n){var r=t&&t.el,a=n.attrs,s=r.attrs,l=n.children;for(var i in a){var f=a[i],c=s[i];if(f!==c)if("object"==typeof f)if("style"===p){for(var p in f)t.style[p]=f[p];for(var p in c)null==f[p]&&(t.style[p]="")}else if("class"===p){for(var p in f)1==f&&t.classList.add(p);for(var p in c)null==f[p]&&t.classList.remove(p)}else t[p]=f;else"style"===p||null==f&&"function"!=typeof f?t.setAttribute(p,f):t[p]=f}o(t,l)};e.el=n,e.parseStyleString=r,e.parseClassString=a,e.render=o,e.parse=s,e.parseSVG=l,e.diff=i,e.diffSVG=f,Object.defineProperty(e,"__esModule",{value:!0})});